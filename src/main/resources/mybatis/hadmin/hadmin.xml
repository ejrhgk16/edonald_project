<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.edonald.hadmin.dao.HadminMapper">
	<insert id="insertPromotion">
		INSERT INTO promotion VALUES(null,#{p_title},#{p_img},default)
	</insert>
	<select id="getPromotionList" resultType="com.edonald.hadmin.dto.PromotionDto">
		SELECT * FROM promotion ORDER BY p_seq DESC
	</select>
	<select id="getPromotion" resultType="com.edonald.hadmin.dto.PromotionDto">
		SELECT * FROM promotion WHERE p_seq = #{p_seq}
	</select>
	<update id="updatePromotion">
		UPDATE promotion SET p_title = #{p_title}, p_status = #{p_status} 
		<if test="p_img != null">, p_img = #{p_img} </if>
		WHERE p_seq = #{p_seq}
	</update>
</mapper>