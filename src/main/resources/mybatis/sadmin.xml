<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.edonald.sadmin.dao.SadminMapper">
	<select id="listAll" resultType="com.edonald.hadmin.dto.MenuDto">
		SELECT * FROM menu m WHERE status != 0 AND type = #{type} ORDER BY status DESC,category_code,seq ASC
	</select>
	<select id="listBlock" resultType="int">
		SELECT m_seq FROM block_order_list WHERE store_code = #{store_code}
	</select>
	<insert id="insertBlock">
		INSERT INTO block_order_list VALUES(#{store},null,#{seq})
	</insert>
	<delete id="deleteBlock">
		DELETE FROM block_order_list WHERE store_code = #{store} AND m_seq = #{seq}
	</delete>
	<select id="getStore" resultType="com.edonald.hadmin.dto.StoreDto">
		SELECT * FROM store_list WHERE store_code = #{store_code}
	</select>
	<update id="updateStoreStatus">
		UPDATE store_list SET store_status = #{store_status} WHERE store_code = #{store_code}
	</update>
	<select id="getOrderList" resultType="com.edonald.order.dto.OrderListDto">
		SELECT * FROM order_list WHERE store_code = #{store_code} ORDER BY order_seq DESC;
	</select>
	<select id="getNewOrderList" resultType="com.edonald.order.dto.OrderListDto">
		SELECT * FROM order_list WHERE store_code = #{store_code} AND order_status = 0 AND order_seq > #{order_seq} ORDER BY order_seq DESC;
	</select>
	<select id="getCartList" resultType="com.edonald.order.dto.CartDto">
		SELECT * FROM cart_list WHERE merchanuid = #{merchanuid}
	</select>
	<update id="updateOrder">
		UPDATE order_list SET order_status = ${order_status} WHERE order_seq = ${order_seq}
	</update>
</mapper>