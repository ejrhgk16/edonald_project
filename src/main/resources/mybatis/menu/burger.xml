<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.edonald.hadmin.menu.dao.BurgerMapper">
	<select id="list" resultType="com.edonald.menu.dto.BurgerDto">
		SELECT *  FROM burger b WHERE burger_status != 0 ORDER BY category_code,b_seq ASC
	</select>
	<select id="getMenu" resultType="com.edonald.menu.dto.BurgerDto">
		SELECT * FROM burger where b_seq = #{b_seq}
	</select>
	<select id="listAll" resultType="com.edonald.menu.dto.BurgerDto">
		SELECT *  FROM burger b ORDER BY burger_status DESC,category_code,b_seq ASC
	</select>
	<update id="updateStatus">
		UPDATE burger SET burger_status = #{burger_status} WHERE burger_code = #{burger_code}
	</update>
	<insert id="insert">
		INSERT INTO burger VALUES(
			#{burger_code},
			#{burger_name},
			#{burger_kcal},
			#{burger_img_path},
			#{burger_set_img_path},
			#{burger_status},
			#{category_code},
			#{burger_type},
			#{burger_price},
			#{burger_allergy},
			NULL
			) 
	</insert>
	<update id="update">
		UPDATE burger SET 
			burger_code = #{burger_code},
			burger_name = #{burger_name},
			burger_kcal = #{burger_kcal},
			<if test="burger_img_path != null">burger_img_path = #{burger_img_path},</if>
			<if test="burger_set_img_path != null">burger_set_img_path = #{burger_set_img_path},</if>
			category_code = #{category_code},
			burger_type = #{burger_type},
			burger_price = #{burger_price},
			burger_allergy = #{burger_allergy}
		WHERE b_seq = #{b_seq}
	</update>
</mapper>